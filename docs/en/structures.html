<div class="main-frame" data-title="Data Definition">
    <article class="main-container">
        <div class="page-header"><h1>Data Definition</h1></div>

        <div id="staticObject" class="container-fluid" data-title="全局静态配置项">
            <h2 class="text-primary">全局静态配置项</h2>
            <p>这些配置需要在初始化一个GooFlow实例前就设置好。</p>
            <div id="colors" class="container-fluid" data-title="colors">
                <h3><span class="text-gray">GooFlow.</span>colors <small>类型：Json Object</small></h3>
                <p>GooFlow中默认的、可配置的各主要元素的颜色。</p>
                <table class="table table-striped table-bordered">
                    <thead><tr>
                        <th>属性</th><th>类型</th><th>默认值</th><th>描述</th>
                    </tr></thead>
                    <tbody class="text-center">
                        <tr><td class="text-primary f16">main</td><td>String</td><td style="color:#20A0FF">#20A0FF</td><td class="text-muted text-left">设计器顶部标题栏、顶部分隔线、工具栏按钮背景的颜色。</td></tr>
                        <tr><td class="text-primary f16">font</td><td>String</td><td style="color:#15428B">#15428B</td><td class="text-muted text-left">默认的文字颜色。</td></tr>
                        <tr><td class="text-primary f16">node</td><td>String</td><td style="color:#C0CCDA">#C0CCDA</td><td class="text-muted text-left">默认的普通节点背景色。</td></tr>
                        <tr><td class="text-primary f16">line</td><td>String</td><td style="color:#1D8CE0">#1D8CE0</td><td class="text-muted text-left">连线的颜色，和节点被选中时边框的颜色。</td></tr>
                        <tr><td class="text-primary f16">lineFont</td><td>String</td><td style="color:#777">#777</td><td class="text-muted text-left">连线上文字的颜色（优先级大于“默认的文字颜色”）。</td></tr>
                        <tr><td class="text-primary f16">mark</td><td>String</td><td style="color:#ff8800">#ff8800</td><td class="text-muted text-left">连线、节点被标注时的颜色；连线被选中时的颜色。</td></tr>
                        <tr><td class="text-primary f16">mix</td><td>String</td><td style="color:#B6F700">#B6F700</td><td class="text-muted text-left">复合结点默认的背景颜色。</td></tr>
                        <tr><td class="text-primary f16">mixFont</td><td>String</td><td style="color:#777">#777</td><td class="text-muted text-left">复合结点下默认的文字颜色。</td></tr>
                    </tbody>
                </table>
            </div>
            <div id="remarks" class="container-fluid" data-title="remarks">
                <h3><span class="text-gray">GooFlow.</span>remarks <small>类型：Json Object</small></h3>
                <p>设计器中各种操作按钮默认的、可配置文字注释说明（通过原生dom的title属性展示）；<br>
                    如果不作任何设置，则设计器所有按钮上将不会有任何文字提示。</p>
                <table class="table table-striped table-bordered">
                    <thead><tr>
                        <th>属性</th><th>类型</th><th>默认值</th><th>描述</th>
                    </tr></thead>
                    <tbody class="text-center">
                    <tr><td class="text-primary f16">headBtns</td><td>Json</td><td class="text-gray">(空{})</td><td class="text-muted text-left">顶部栏各个类型按钮的文字说明。
                        格式：<br>key为类型名，value是类型的文字说明，如:<code>{"undo":"撤销操作",……}</code></td></tr>
                    <tr><td class="text-primary f16">toolBtns</td><td>Json</td><td class="text-gray">(空{})</td><td class="text-muted text-left">工具栏各个类型按钮（包括节点类型和指针、连线、泳道编辑开关）的文字说明。
                        格式：<br>key为类型名，value是类型的文字说明，如:<code>{"cursor":"选择指针", "direct":"转换连线",……}</code></td></tr>
                    <tr><td class="text-primary f16">extendRight</td><td>String</td><td class="text-gray">(undefined)</td><td class="text-muted text-left">绘图工作区向右扩展按钮的文字提示。</td></tr>
                    <tr><td class="text-primary f16">extendBottom</td><td>String</td><td class="text-gray">(undefined)</td><td class="text-muted text-left">绘图工作区向下扩展按钮的文字提示。</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div id="dataObject" class="container-fluid" data-title="特殊结构">
            <h2 class="text-primary">特殊结构</h2>
            <p>GooFlow实例内部定义了一些特殊的单元结构，在进入<span class="text-warning">“内部属性”章节</span>前有必要先行了解。</p>
            <div id="NodeItem" class="container-fluid" data-title="NodeItem">
                <h3>NodeItem <small>类型：Json Object</small></h3>
                <p>描述单个节点信息的Json结构体。</p>
                <table class="table table-striped table-bordered">
                    <thead><tr>
                        <th>属性</th><th>类型</th><th>默认值</th><th>描述</th>
                    </tr></thead>
                    <tbody class="text-center">
                    <tr><td class="text-primary f16">name</td><td>String</td><td class="text-gray">('node_'+序列号)</td><td class="text-muted text-left">节点的显示名称。</td></tr>
                    <tr><td class="text-primary f16">left</td><td>Number</td><td class="text-gray">0</td><td class="text-muted text-left">节点相对于工作区的左边距，单位像素。</td></tr>
                    <tr><td class="text-primary f16">top</td><td>Number</td><td class="text-gray">0</td><td class="text-muted text-left">节点相对于工作区的顶距，单位像素。</td></tr>
                    <tr><td class="text-primary f16">width</td><td>Number</td><td class="text-gray">104</td><td class="text-muted text-left">节点宽度，单位像素；仅非圆形节点时有效。</td></tr>
                    <tr><td class="text-primary f16">height</td><td>Number</td><td class="text-gray">26</td><td class="text-muted text-left">节点高度，单位像素；仅非圆形节点时有效。</td></tr>
                    <tr><td class="text-primary f16">type</td><td>String</td><td class="text-gray">''</td><td class="text-muted text-left">必填项：节点类型名称，可用户自定义；其对应的图标样式为<code>'ico_'+节点类型</code>；
                        <br>类型名中如果有<code>' round'</code>，则为圆形节点，如果有<code>' mix'</code>，则为复合节点(变换背景色)。</td></tr>
                    <tr><td class="text-primary f16">marked</td><td>Boolean</td><td class="text-gray">(undefined)</td><td class="text-muted text-left">节点是否已被标注。</td></tr>
                    <tr><td class="text-primary f16">alt</td><td>Boolean</td><td class="text-gray">(undefined)</td><td class="text-muted text-left">在编辑模式下节点是否被用户编辑过。</td></tr>
                    <tr><td class="text-primary f16">areaId</td><td>String</td><td class="text-gray">(undefined)</td><td class="text-muted text-left">该节点所属分组泳道的id，当为<code>undefined</code>时表示不属于任何分组。</td></tr>
                    </tbody>
                </table>
                <p class="indent28">得利于Json结构的可扩展性，除了上述指定属性外，用户对节点单元可任意自定义任何类型的、其它名称的属性，数量不限，以满足实际业务的需要。
                这些自定义属性，用户需在设计器提供的各种事件钩子中对其操作。</p>
            </div>
            <div id="LineItem" class="container-fluid" data-title="LineItem">
                <h3>LineItem <small>类型：Json Object</small></h3>
                <p>描述单条连线信息的Json结构体。</p>
                <table class="table table-striped table-bordered">
                    <thead><tr>
                        <th>属性</th><th>类型</th><th>默认值</th><th>描述</th>
                    </tr></thead>
                    <tbody class="text-center">
                    <tr><td class="text-primary f16">name</td><td>String</td><td class="text-gray">(undefiend)</td><td class="text-muted text-left">连线的显示名称，未定义时连线上无文字。</td></tr>
                    <tr><td class="text-primary f16">from</td><td>String</td><td class="text-gray">(undefiend)</td><td class="text-muted text-left">必填项，连线的起始节点id。</td></tr>
                    <tr><td class="text-primary f16">to</td><td>String</td><td class="text-gray">(undefiend)</td><td class="text-muted text-left">必填项，连线的目标节点id。</td></tr>
                    <tr><td class="text-primary f16">type</td><td>String</td><td class="text-gray">sl</td><td class="text-muted text-left">连线类型，取值有三种：<code>'sl'</code>直线；<code>'lr'</code>中段可左右移动的折线'；<code>'tb'</code>中段可上下移动的折线。</td></tr>
                    <tr><td class="text-primary f16">M</td><td>Number</td><td class="text-gray">(undefiend)</td><td class="text-muted text-left">一种抽象值，单位为像素。<br>当<code>type='lr'</code>时为必填项，表示中段线相对于工作区的X坐标值；<br>
                        当<code>type='tb'</code>时为必填项，表示中段线相对于工作区的Y坐标值。<br>当<code>type='sl'</code>时无任何意义。</td></tr>
                    <tr><td class="text-primary f16">marked</td><td>Boolean</td><td class="text-gray">(undefined)</td><td class="text-muted text-left">连线是否已被标注。</td></tr>
                    <tr><td class="text-primary f16">alt</td><td>Boolean</td><td class="text-gray">(undefined)</td><td class="text-muted text-left">在编辑模式下连线是否被用户编辑过。</td></tr>
                    <tr><td class="text-primary f16">dashed</td><td>Boolean</td><td class="text-gray">(undefined)</td><td class="text-muted text-left">是否为虚线样式，当为<code>undefined</code>时表示默认实线。</td></tr>
                    </tbody>
                </table>
                <p class="indent28">得利于Json结构的可扩展性，除了上述指定属性外，用户对连线单元可任意自定义任何类型的、其它名称的属性，数量不限，以满足实际业务的需要。
                    这些自定义属性，用户需在设计器提供的各种事件钩子中对其操作。</p>
            </div>
            <div id="AreaItem" class="container-fluid" data-title="AreaItem">
                <h3>AreaItem <small>类型：Json Object</small></h3>
                <p>描述分组泳信息的Json结构体。</p>
                <table class="table table-striped table-bordered">
                    <thead><tr>
                        <th>属性</th><th>类型</th><th>默认值</th><th>描述</th>
                    </tr></thead>
                    <tbody class="text-center">
                    <tr><td class="text-primary f16">name</td><td>String</td><td class="text-gray">('area_'+序列号)</td><td class="text-muted text-left">分组泳道的显示名称。</td></tr>
                    <tr><td class="text-primary f16">left</td><td>Number</td><td class="text-gray">0</td><td class="text-muted text-left">分组泳道相对于工作区的左边距，单位像素。</td></tr>
                    <tr><td class="text-primary f16">top</td><td>Number</td><td class="text-gray">0</td><td class="text-muted text-left">分组泳道相对于工作区的顶距，单位像素。</td></tr>
                    <tr><td class="text-primary f16">width</td><td>Number</td><td class="text-gray">200</td><td class="text-muted text-left">分组泳道宽度，单位像素；仅非圆形节点时有效。</td></tr>
                    <tr><td class="text-primary f16">height</td><td>Number</td><td class="text-gray">100</td><td class="text-muted text-left">分组泳道高度，单位像素；仅非圆形节点时有效。</td></tr>
                    <tr><td class="text-primary f16">color</td><td>String</td><td class="text-gray">(4种随机值)</td><td class="text-muted text-left">分组区的颜色,有<code>"red","yellow","blue","green"</code>四种。</td></tr>
                    <tr><td class="text-primary f16">alt</td><td>Boolean</td><td class="text-gray">(undefined)</td><td class="text-muted text-left">在编辑模式下分组泳道是否被用户编辑过。</td></tr>
                    </tbody>
                </table>
            </div>
            <div id="FlowChart" class="container-fluid" data-title="FlowChart">
                <h3>FlowChart <small>类型：Json Object</small></h3>
                <p>设计器中完整的流程图详细描述结构体。</p>
                <table class="table table-striped table-bordered">
                    <thead><tr>
                        <th>属性</th><th>类型</th><th>默认值</th><th>描述</th>
                    </tr></thead>
                    <tbody class="text-center">
                    <tr><td class="text-primary f16">title</td><td>String</td><td class="text-gray">newFlow_1</td><td class="text-muted text-left">该组流程图数据集的名称，常显示于顶部栏的左边。
                        <br><span class="text-warning">注意：由<code>this.exportAlter()</code>方法返回的FlowChart对象中不会有该属性。</span></td></tr>
                    <tr><td class="text-primary f16">nodes</td><td>Map[id:NodeItem]</td><td class="text-gray">(空的{})</td><td class="text-muted text-left">流程图中所有节点的map式数据集；<code>key</code>为节点id，<code>value</code>则是<code>NodeItem</code>结构的数据。</td></tr>
                    <tr><td class="text-primary f16">lines</td><td>Map[id:LineItem]</td><td class="text-gray">(空的{})</td><td class="text-muted text-left">流程图中所有连线的map式数据集；<code>key</code>为节点id，<code>value</code>则是<code>LineItem</code>结构的数据。</td></tr>
                    <tr><td class="text-primary f16">areas</td><td>Map[id:AreaItem]</td><td class="text-gray">(空的{})</td><td class="text-muted text-left">流程图中所有分组泳道的map式数据集；<code>key</code>为节点id，<code>value</code>则是<code>AreaItem</code>结构的数据。</td></tr>
                    <tr><td class="text-primary f16">initNum</td><td>Number</td><td class="text-gray">(undefined)</td><td class="text-muted text-left">可选属性：由于绘制的新单元的ID都是按一定序列号及规则自动生成的，为了防止新载入的数据的name与编辑时新加入的name值有重复,将给设计器对象对于新生成单元的ID序列一个新的起始序列号。
                        <br>该属性一般只在从后台读取流程图数据至前端展示时才用到</td></tr>
                    </tbody>
                    <tr><td class="text-primary f16">deletedItem</td><td>Map[id:String]</td><td class="text-gray">(undefined)</td>
                        <td class="text-muted text-left">在流程图的编辑操作中被删除掉的元素id-map集合；<br>以<code>元素id</code>为Key，元素类别名为value(共有<code>node'</code>、<code>'line'</code>、<code>'area'</code>三种取值)。
                            <br><span class="text-warning">注意：由<code>this.exportAlter()</code>方法返回的FlowChart对象中不会有该属性。</span></td></tr>
                </table>
            </div>
        </div>

        <div id="someKeyword" class="container-fluid" data-title="敏感关键字">
            <h2 class="text-primary">敏感关键字</h2>
            <div id="defNodeType" class="container-fluid" data-title="节点定义类型">
                <h3>节点定义类型</h3>
                <p>用户可自定义新类型，也可覆盖原生自带类型的css样式。但切不可用以下关键字命名新节点类型：</p>
                <p class="f16"><code>'cursor'</code>、<code>'direct'</code>、<code>'dashed'</code></p>
                <p>这几个关键字在工具栏中分别表示：<b>指针按钮</b>、<b>实线连线按钮</b>、<b>虚线连线按钮</b>。</p>
            </div>
            <div id="defToolTip" class="container-fluid" data-title="工具栏文字说明">
                <h3>工具栏文字说明</h3>
                <p>文字说明定义用的JsonMap结构是以<code>{'按钮类型名':'文字说明'}</code>的方式来构建的；除了节点类型按钮外，其它几个按钮的说明文字定义就需要用通过几个关键字的key进行设定了。如下：</p>
                <pre><code class="language-javascript">GooFlow.remarks.toolBtns = {
    cursor:"选择指针的关键字",
    direct:"转换连线的关键字",
    dashed:"关联虚线的关键字",
    group:"组织泳道编辑开关的关键字",
    ……
};</code></pre>
            </div>
            <div id="defToolBtn" class="container-fluid" data-title="顶部栏按钮">
                <h3>顶部栏按钮</h3>
                <p>顶部栏按钮已经自带了如下的类型：</p>
                <p class="f16"><code>"new","open","save","undo","redo","reload","print"</code></p>
                <p>其中<code>undo</code>是撤销操作按钮，<code>undo</code>是重做操作按钮；这两个按钮有特殊功能，不能自定义事件。<br>
                    其它按钮都有专门的事件钩子，请参见下文中的<a href="#events">“事件定义钩子”章节。</a></p>
            </div>
        </div>

    </article>
</div>